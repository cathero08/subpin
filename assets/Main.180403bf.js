import{C as M,b as h,d as L,e as C,_ as D,r as d,u as U,s as b,w as A,g as F,c as v,o as W,a as c,k as Y,h as i,f as r,T as q,D as K,l as J,i as g,n as Q,A as X,q as Z,p as _,R as ee}from"./index.c91cc030.js";const te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ae=C("path",{d:"M464 48c-67.61.29-117.87 9.6-154.24 25.69c-27.14 12-37.76 21.08-37.76 51.84V448c41.57-37.5 78.46-48 224-48V48z",fill:"currentColor"},null,-1),ne=C("path",{d:"M48 48c67.61.29 117.87 9.6 154.24 25.69c27.14 12 37.76 21.08 37.76 51.84V448c-41.57-37.5-78.46-48-224-48V48z",fill:"currentColor"},null,-1),oe=[ae,ne],le=M({name:"BookSharp",render:function(f,u){return h(),L("svg",te,oe)}}),se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},re=C("path",{d:"M112 0v48h304v368l48 32V0H112z",fill:"currentColor"},null,-1),ue=C("path",{d:"M48 80v432l168-124l168 124V80H48z",fill:"currentColor"},null,-1),ie=[re,ue],de=M({name:"BookmarksSharp",render:function(f,u){return h(),L("svg",se,ie)}});const ce={key:0},fe={__name:"Main",setup(x){const f=d(null),u=d(!1),T=Z(),V=U(),{menuList:k}=b(V),O=A(),{windowInnerHeight:S}=b(O),N=F(),{api:e,globalFieldData:p,naiveUi:H}=b(N);d([]);const z=d("\u8A08\u756B\u7BA1\u7406\u7CFB\u7D71");let y=()=>S.value<640?640:S.value;const R=d(null);let B=v(()=>y()+"px"),E=v(()=>y()-52+"px"),G=v(()=>y()+"px");const P=d((a={focused,checked})=>{const n={};return a.checked?(n.background="rgb(211 200 203)",a.focused&&(n.boxShadow="0 0 0 2px rgb(181 177 177)")):(n.background="#a3a3a3",a.focused&&(n.boxShadow="0 0 0 2px rgb(181 177 177)")),n}),I=a=>a.menuHref?_(H.value.NIcon,{component:le},""):_(H.value.NIcon,{component:de},""),$=a=>a.menuHref?_(ee,{style:{},to:{path:a.menuHref}},a.menuName):_("span",{style:{}},a.menuName);return W(()=>{k.value.forEach(o=>{o.detail.forEach(l=>{var t;T.currentRoute.value.path.indexOf(l.menuHref)!=-1&&(f.value=l.id,(t=R.value)==null||t.showOption(l.id))})}),p.value.yearOptions=v(()=>{const o=new Date().getFullYear()-1911;let l=111,t=o+5,m=[];for(t;t>=l;t--)m.push({label:String(t),value:String(t)});return m});const a=[{name:"reatModeCode",fun:e.value.getReatModeCodeList},{name:"oecdResearchCode",fun:e.value.getOecdResearchCodeList},{name:"reatTypeCode",fun:e.value.getReatTypeCodeList},{name:"refiCode",fun:e.value.getRefiCodeList},{name:"planTypeCode",fun:e.value.getPlanTypeCodeList},{name:"planClassCode",fun:e.value.getPlanClassCodeList},{name:"pnatTypeCode",fun:e.value.getPnatTypeCodeList},{name:"priceCode",fun:e.value.getPriceCodeList},{name:"opgrCode",fun:e.value.getOpgrCodeList},{name:"oecdGoalGrbResCode",fun:e.value.getOecdGoalGrbResCodeList},{name:"ministryCode",fun:e.value.getMinistryCode},{name:"organCode",fun:e.value.getOrganCodeList},{name:"subcontractorTypeCode",fun:e.value.getSubcontractorTypeCodeList},{name:"educCode",fun:e.value.getEducCodeList},{name:"budgetCode",fun:e.value.getBudgetCodeList},{name:"wiatGrbCode",fun:e.value.getWiatGrbCodeList},{name:"wiatCode",fun:e.value.getWiatCodeList},{name:"prgCode",fun:e.value.getPrgCodeList},{name:"bgCode",fun:e.value.getBgCodeList},{name:"bsCode",fun:e.value.getBsCodeList},{name:"vaCode",fun:e.value.getVaCodeList},{name:"mainplanCode",fun:e.value.getMainplanCodeList}],n=(o,l)=>{l().then((t,m)=>{t.data&&t.status==200?(t.data.forEach(s=>{s.name?s.label=s.name:s.label=s.cname,s.value=s.code}),p.value=Object.assign(p.value,{[o]:t.data})):p.value=Object.assign(p.value,{[o]:[]})})};a.forEach(o=>{n(o.name,o.fun)})}),(a,n)=>{const o=c("n-switch"),l=c("n-space"),t=c("n-menu"),m=c("n-layout-sider"),s=c("router-view"),j=c("n-layout");return h(),Y(j,{"content-style":{height:g(B),"background-image":"linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%)"},"native-scrollbar":!1,"has-sider":""},{default:i(()=>[r(m,{class:"sider-style",style:Q({height:g(E)}),"collapse-mode":"width","collapsed-width":63,width:300,collapsed:u.value,"native-scrollbar":!1,"content-style":{}},{default:i(()=>[r(l,{vertical:""},{default:i(()=>[r(l,{justify:"end","item-style":{"margin-right":"0.8rem"}},{default:i(()=>[r(o,{class:"title-btn","rail-style":P.value,value:u.value,"onUpdate:value":n[0]||(n[0]=w=>u.value=w),size:"small"},null,8,["rail-style","value"])]),_:1},8,["item-style"]),r(q,{name:"title"},{default:i(()=>[r(l,{class:"titleStyle ms-3"},{default:i(()=>[u.value?J("",!0):(h(),L("span",ce,K(z.value),1))]),_:1})]),_:1}),r(t,{value:f.value,"onUpdate:value":n[1]||(n[1]=w=>f.value=w),collapsed:u.value,"collapsed-width":65,"collapsed-icon-size":26,options:g(k),"render-icon":I,"render-label":$,"key-field":"id","label-field":"menuName","children-field":"detail",ref_key:"menuRef",ref:R},null,8,["value","collapsed","options"])]),_:1})]),_:1},8,["style","collapsed"]),r(X,{outSideHeight:g(B),scrollHeight:g(G)},{default:i(()=>[r(s)]),_:1},8,["outSideHeight","scrollHeight"])]),_:1},8,["content-style"])}}},me=D(fe,[["__scopeId","data-v-918c446f"]]);export{me as default};
